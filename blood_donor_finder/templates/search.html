{% extends "base.html" %}
{% block content %}

<h2 class="floating-text">Find Blood Donors</h2>

<p class="fade-text" style="text-align:center;">
    Hospitals or patients can search for verified and approved blood donors here.
</p>

<div class="card search-card floating-card">
    <form method="post">

        <label>Required Blood Group</label>
        <select name="blood_group" required>
            <option value="">-- Select Blood Group --</option>
            <option value="O+">O+</option>
            <option value="O-">O-</option>
            <option value="A+">A+</option>
            <option value="A-">A-</option>
            <option value="B+">B+</option>
            <option value="B-">B-</option>
            <option value="AB+">AB+</option>
            <option value="AB-">AB-</option>
        </select>

        <button class="primary-btn">Search Donors</button>
    </form>
</div>

{% if results %}
<h3 style="text-align:center;">Available Approved Donors</h3>

<div class="info-cards">
{% for d in results %}
    <div class="card donor-card floating-card">
        <h4>{{ d.name }}</h4>
        <p><strong>Blood Group:</strong> {{ d.blood_group }}</p>
        <p><strong>Location:</strong> {{ d.location }}</p>
        <p><strong>Contact:</strong> {{ d.phone }}</p>
    </div>
{% endfor %}
</div>
{% else %}
<p style="text-align:center; margin-top:20px;">
    No approved donors found for the selected blood group.
</p>
{% endif %}

{% endblock %}

